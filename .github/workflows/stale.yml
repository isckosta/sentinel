name: Stale Issues and PRs

on:
  schedule:
    - cron: '0 0 * * *' # Diariamente Ã  meia-noite UTC
  workflow_dispatch:

jobs:
  stale:
    name: Mark and Close Stale Items
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    steps:
      - uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Issues configuration
          stale-issue-message: |
            ğŸ‘‹ Esta issue estÃ¡ inativa hÃ¡ 60 dias e serÃ¡ fechada automaticamente em 7 dias se nÃ£o houver atividade.
            
            Se vocÃª ainda estÃ¡ enfrentando este problema, por favor comente abaixo para reabrir a discussÃ£o.
            
            Obrigado por contribuir com o Sentinel! ğŸ›¡ï¸
          
          close-issue-message: |
            ğŸ”’ Esta issue foi fechada automaticamente devido Ã  inatividade.
            
            Se vocÃª ainda precisa de ajuda com este problema, sinta-se Ã  vontade para reabrir ou criar uma nova issue.
          
          days-before-stale: 60
          days-before-close: 7
          stale-issue-label: 'stale'
          close-issue-label: 'auto-closed'
          exempt-issue-labels: 'pinned,security,roadmap,help-wanted'
          
          # Pull Requests configuration
          stale-pr-message: |
            ğŸ‘‹ Este Pull Request estÃ¡ inativo hÃ¡ 30 dias e serÃ¡ fechado automaticamente em 7 dias se nÃ£o houver atividade.
            
            Se vocÃª ainda estÃ¡ trabalhando neste PR, por favor:
            - FaÃ§a um rebase com a branch master
            - Responda aos comentÃ¡rios pendentes
            - Atualize a descriÃ§Ã£o se necessÃ¡rio
            
            Obrigado por contribuir com o Sentinel! ğŸ›¡ï¸
          
          close-pr-message: |
            ğŸ”’ Este Pull Request foi fechado automaticamente devido Ã  inatividade.
            
            Se vocÃª ainda deseja que estas mudanÃ§as sejam mergeadas, por favor:
            - Reabra o PR
            - FaÃ§a rebase com master
            - Responda aos comentÃ¡rios
          
          days-before-pr-stale: 30
          days-before-pr-close: 7
          stale-pr-label: 'stale'
          close-pr-label: 'auto-closed'
          exempt-pr-labels: 'pinned,security,in-progress'
          
          # Additional options
          operations-per-run: 100
          remove-stale-when-updated: true
          ascending: true
          
          # Custom messages for different scenarios
          exempt-all-milestones: false
          exempt-all-assignees: false
