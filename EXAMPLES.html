<h1>Exemplos de Uso do Sentinel</h1>
<p>Este documento contÃ©m exemplos prÃ¡ticos de como usar o Sentinel em diferentes cenÃ¡rios.</p>
<h2>ğŸ¯ CenÃ¡rios Comuns</h2>
<h3>1. MigraÃ§Ãµes de Banco de Dados</h3>
<h4>Prisma Migrate Reset</h4>
<pre><code class="language-bash">$ sentinel prisma migrate reset --force

ğŸš¨ ALERTA CRÃTICO - COMANDO PERIGOSO DETECTADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Comando: prisma migrate reset --force
Score de Risco: 95/100
Branch: main
Ambiente: production

Motivos para bloqueio:
  â€¢ Esse comando parece suicida. Quer pensar de novo?
  â€¢ Flag --force detectada. Cuidado com o que deseja.
  â€¢ OperaÃ§Ã£o na branch principal detectada
  â€¢ Ambiente de produÃ§Ã£o detectado
  â€¢ Comando destrutivo detectado
  â€¢ MigraÃ§Ã£o de banco detectada
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ Sentinel recomenda:
  â€¢ Revisar o comando cuidadosamente
  â€¢ Verificar se estÃ¡ no ambiente correto
  â€¢ Considerar fazer backup antes de prosseguir
  â€¢ Consultar a equipe se houver dÃºvidas

? VocÃª REALMENTE entende as consequÃªncias deste comando? No
âœ… DecisÃ£o sÃ¡bia. Comando bloqueado.
</code></pre>
<h4>Alternativa Segura</h4>
<pre><code class="language-bash"># Em branch de desenvolvimento
$ git checkout develop
$ sentinel prisma migrate reset --force

âš ï¸  ALERTA DE RISCO MODERADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Comando: prisma migrate reset --force
Score de Risco: 55/100

Motivos:
  â€¢ Flag --force detectada. Cuidado com o que deseja.
  â€¢ Comando destrutivo detectado
  â€¢ MigraÃ§Ã£o de banco detectada
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

? Deseja prosseguir mesmo assim? Yes

âš¡ Executando comando...
[Prisma output...]
âœ… Comando executado com sucesso
</code></pre>
<h3>2. OperaÃ§Ãµes Git</h3>
<h4>Force Push</h4>
<pre><code class="language-bash">$ sentinel git push --force origin main

ğŸš¨ ALERTA CRÃTICO - COMANDO PERIGOSO DETECTADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Comando: git push --force origin main
Score de Risco: 70/100
Branch: main

Motivos para bloqueio:
  â€¢ Force push pode reescrever histÃ³ria. Equipe estÃ¡ ciente?
  â€¢ Flag --force detectada. Cuidado com o que deseja.
  â€¢ OperaÃ§Ã£o na branch principal detectada
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
</code></pre>
<h4>Push Normal (Seguro)</h4>
<pre><code class="language-bash">$ sentinel git push origin feature/new-feature

âš¡ Executando comando...
[Git output...]
âœ… Comando executado com sucesso
</code></pre>
<h3>3. Deploys</h3>
<h4>Deploy em ProduÃ§Ã£o</h4>
<pre><code class="language-bash">$ sentinel npm run deploy:production

âš ï¸  ALERTA DE RISCO MODERADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Comando: npm run deploy:production
Score de Risco: 50/100

Motivos:
  â€¢ Deploy em produÃ§Ã£o. Todos os testes passaram?
  â€¢ Ambiente de produÃ§Ã£o detectado
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

? Deseja prosseguir mesmo assim? Yes
</code></pre>
<h4>Deploy Noturno</h4>
<pre><code class="language-bash">$ sentinel npm run deploy:production
# Executado Ã s 23h

âš ï¸  ALERTA DE RISCO MODERADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Comando: npm run deploy:production
Score de Risco: 65/100

Motivos:
  â€¢ Deploy em produÃ§Ã£o. Todos os testes passaram?
  â€¢ Ambiente de produÃ§Ã£o detectado
  â€¢ Nada de bom acontece depois das 22h
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
</code></pre>
<h3>4. Docker Operations</h3>
<h4>System Prune</h4>
<pre><code class="language-bash">$ sentinel docker system prune -a

âš ï¸  ALERTA DE RISCO MODERADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Comando: docker system prune -a
Score de Risco: 40/100

Motivos:
  â€¢ Isso vai remover todos os containers, imagens e volumes nÃ£o usados.
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

? Deseja prosseguir mesmo assim?
</code></pre>
<h3>5. Kubernetes</h3>
<h4>Delete em ProduÃ§Ã£o</h4>
<pre><code class="language-bash">$ sentinel kubectl delete deployment api --namespace=production

ğŸš¨ ALERTA CRÃTICO - COMANDO PERIGOSO DETECTADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Comando: kubectl delete deployment api --namespace=production
Score de Risco: 75/100
Ambiente: production

Motivos para bloqueio:
  â€¢ Deletar recursos em produÃ§Ã£o? Isso vai doer.
  â€¢ Comando destrutivo detectado
  â€¢ Ambiente de produÃ§Ã£o detectado
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
</code></pre>
<h2>ğŸ“Š Visualizando EstatÃ­sticas</h2>
<h3>Comando Stats</h3>
<pre><code class="language-bash">$ sentinel stats

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ›¡ï¸  SENTINEL STATS                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š VisÃ£o Geral
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total de comandos avaliados:  45
  Comandos executados:          38 (84.4%)
  Comandos bloqueados:          7 (15.6%)

âš ï¸  DistribuiÃ§Ã£o de Risco
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  âœ“ Safe:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 30 (66.7%)
  âš  Warning:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 10 (22.2%)
  âœ– Critical: â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 5 (11.1%)

ğŸš¨ InformaÃ§Ãµes de Incidentes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Ãšltimo incidente:             10 de out, 15:30
  Dias sem autossabotagem:      0 ğŸ˜¬ (Foi hoje mesmo...)

ğŸ“œ Eventos Recentes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  âœ— âœ– out 10, 15:30 critical prisma migrate reset --force
  âœ“ âœ“ out 10, 14:20 safe     npm test
  âœ“ âš  out 10, 13:15 warning  git push --force
  âœ“ âœ“ out 10, 11:00 safe     npm run build
  âœ“ âœ“ out 10, 09:30 safe     git commit -m &quot;fix&quot;

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  âš ï¸  Muitos comandos crÃ­ticos detectados. PrudÃªncia Ã© a chave.
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</code></pre>
<h2>ğŸ”§ Uso com Flags</h2>
<h3>Auto-approve Comandos Seguros</h3>
<pre><code class="language-bash"># Sem flag -y
$ sentinel npm test
âš¡ Executando comando...
[Test output...]
âœ… Comando executado com sucesso

# Com flag -y (mesma coisa, mas sem delay)
$ sentinel -y npm test
âš¡ Executando comando...
[Test output...]
âœ… Comando executado com sucesso
</code></pre>
<h3>Config Customizado</h3>
<pre><code class="language-bash">$ sentinel -c ./custom-sentinel.yml prisma migrate reset

# Usa regras do arquivo custom-sentinel.yml
</code></pre>
<h2>ğŸ”Œ Integrando com Scripts</h2>
<h3>package.json</h3>
<pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;deploy:prod&quot;: &quot;sentinel npm run deploy:production&quot;,
    &quot;db:reset&quot;: &quot;sentinel prisma migrate reset&quot;,
    &quot;db:push&quot;: &quot;sentinel prisma db push&quot;
  }
}
</code></pre>
<h3>Makefile</h3>
<pre><code class="language-makefile">.PHONY: deploy
deploy:
	sentinel kubectl apply -f k8s/production/

.PHONY: db-reset
db-reset:
	sentinel prisma migrate reset --force

.PHONY: clean
clean:
	sentinel docker system prune -a
</code></pre>
<h3>Shell Alias</h3>
<pre><code class="language-bash"># .bashrc ou .zshrc
alias deploy=&#39;sentinel npm run deploy&#39;
alias k=&#39;sentinel kubectl&#39;
alias docker=&#39;sentinel docker&#39;
</code></pre>
<h2>ğŸ­ CenÃ¡rios de Workflow</h2>
<h3>Workflow de Deploy Seguro</h3>
<pre><code class="language-bash"># 1. Verificar branch
$ git branch
* feature/new-api

# 2. Rodar testes
$ sentinel npm test
âœ… Comando executado com sucesso

# 3. Build
$ sentinel npm run build
âœ… Comando executado com sucesso

# 4. Merge para main (via PR)
# [GitHub PR process...]

# 5. Deploy em staging
$ git checkout staging
$ sentinel npm run deploy:staging
âš ï¸  ALERTA DE RISCO MODERADO
? Deseja prosseguir mesmo assim? Yes
âœ… Comando executado com sucesso

# 6. Verificar staging
# [Manual testing...]

# 7. Deploy em produÃ§Ã£o
$ git checkout main
$ sentinel npm run deploy:production
âš ï¸  ALERTA DE RISCO MODERADO
? Deseja prosseguir mesmo assim? Yes
âœ… Comando executado com sucesso

# 8. Verificar estatÃ­sticas
$ sentinel stats
</code></pre>
<h3>Workflow de MigraÃ§Ã£o de Banco</h3>
<pre><code class="language-bash"># 1. Criar migraÃ§Ã£o em dev
$ git checkout develop
$ sentinel prisma migrate dev --name add_users_table
âœ… Comando executado com sucesso

# 2. Testar localmente
$ sentinel npm test
âœ… Comando executado com sucesso

# 3. Aplicar em staging
$ git checkout staging
$ sentinel prisma migrate deploy
âš ï¸  ALERTA DE RISCO MODERADO
? Deseja prosseguir mesmo assim? Yes
âœ… Comando executado com sucesso

# 4. Backup de produÃ§Ã£o
$ pg_dump production &gt; backup.sql

# 5. Aplicar em produÃ§Ã£o
$ git checkout main
$ sentinel prisma migrate deploy
âš ï¸  ALERTA DE RISCO MODERADO
? Deseja prosseguir mesmo assim? Yes
âœ… Comando executado com sucesso
</code></pre>
<h2>ğŸš« Comandos que Sentinel Bloqueia</h2>
<h3>Extremamente Perigosos</h3>
<pre><code class="language-bash"># Sistema de arquivos
$ sentinel rm -rf /
ğŸš¨ ALERTA CRÃTICO
Isso vai destruir o sistema. PARE IMEDIATAMENTE.

# Banco de dados
$ sentinel psql -c &quot;DROP DATABASE production&quot;
ğŸš¨ ALERTA CRÃTICO
DROP DATABASE? SÃ©rio? Respire fundo antes de continuar.

# Kubernetes
$ sentinel kubectl delete --all --all-namespaces
ğŸš¨ ALERTA CRÃTICO
Delete all? Espero que saiba o que estÃ¡ fazendo.
</code></pre>
<h2>ğŸ’¡ Dicas e Truques</h2>
<h3>1. Testar ConfiguraÃ§Ã£o</h3>
<pre><code class="language-bash"># Ver o que Sentinel faria sem executar
$ sentinel --dry-run prisma migrate reset
# (Feature futura)
</code></pre>
<h3>2. Modo Verbose</h3>
<pre><code class="language-bash">$ LOG_LEVEL=debug sentinel npm run deploy
# Mostra logs detalhados de avaliaÃ§Ã£o
</code></pre>
<h3>3. Desabilitar Temporariamente</h3>
<pre><code class="language-bash"># Executar comando diretamente sem Sentinel
$ npm run deploy:production

# Ou criar alias
alias unsafe=&#39;command&#39;
$ unsafe rm -rf node_modules
</code></pre>
<h3>4. IntegraÃ§Ã£o com CI/CD</h3>
<pre><code class="language-yaml"># .github/workflows/deploy.yml
- name: Deploy with Sentinel
  run: |
    npm install -g @mhsolutions/sentinel
    sentinel -y npm run deploy:production
</code></pre>
<h2>ğŸ“š Recursos Adicionais</h2>
<ul>
<li><a href="../README.md">README.md</a> - DocumentaÃ§Ã£o principal</li>
<li><a href="./ARCHITECTURE.md">ARCHITECTURE.md</a> - Arquitetura do sistema</li>
<li><a href="./PLUGIN_GUIDE.md">PLUGIN_GUIDE.md</a> - Criando plugins</li>
<li><a href="./CONTRIBUTING.md">CONTRIBUTING.md</a> - Como contribuir</li>
</ul>
<h2>ğŸ†˜ Problemas Comuns</h2>
<h3>Sentinel nÃ£o detecta branch</h3>
<pre><code class="language-bash"># Certifique-se de estar em um repositÃ³rio Git
$ git status

# Se nÃ£o for um repo Git, Sentinel nÃ£o pode detectar branch
$ git init
</code></pre>
<h3>Comando sempre bloqueado</h3>
<pre><code class="language-bash"># Verifique as regras em sentinel.yml
$ cat sentinel.yml

# Ajuste o pattern ou level conforme necessÃ¡rio
</code></pre>
<h3>EstatÃ­sticas nÃ£o aparecem</h3>
<pre><code class="language-bash"># Verifique se o diretÃ³rio existe
$ ls ~/.sentinel/

# Se nÃ£o existir, execute um comando primeiro
$ sentinel echo &quot;test&quot;
</code></pre>
<hr>
<p>Para mais exemplos e casos de uso, visite a <a href="../README.md">documentaÃ§Ã£o completa</a>.</p>

